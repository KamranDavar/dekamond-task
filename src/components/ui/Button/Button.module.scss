@import '@/styles/base/variables';
@import '@/styles/base/mixins';
@import '@/styles/base/utilities';

.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  @extend .font-medium;
  border-radius: $radius-sm;
  border: none;
  cursor: pointer;
  transition: all $transition-duration $transition-timing;
  @extend .gap-sm;
  color: var(--color-text);

  &:disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  // Variants
  &.primary {
    @include button-variant(var(--color-primary), var(--color-background), var(--color-primary-hover), var(--color-primary-active));
  }

  &.secondary {
    @include button-variant(var(--color-secondary), var(--color-text), var(--color-secondary-hover), var(--color-secondary-active));
  }

  &.danger {
    @include button-variant(var(--color-error), var(--color-background), var(--color-error-hover), var(--color-error-active));
  }

  // Sizes
  &.sm {
    @include button-size($space-sm, $space-sm, $font-size-sm);
  }

  &.md {
    @include button-size($space-md, $space-md, $font-size-base);
  }

  &.lg {
    @include button-size($space-md, $space-lg, $font-size-lg);
  }

  // Loading state
  &.loading {
    .spinner {
      width: 1rem;
      height: 1rem;
      border: 2px solid transparent;
      border-top: 2px solid currentColor;
      border-radius: $radius-full;
      animation: spin $animation-duration $animation-timing infinite;
    }
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}